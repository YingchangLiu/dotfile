#!/bin/zsh

if (( BUFFERLINES > 1 )); then
  private -i cursor=$CURSOR
  builtin zle .down-line
  (( cursor == CURSOR )) &&
      builtin zle .end-of-line
  (( cursor != CURSOR ))
else
  builtin zle menu-select -w
fi
